<section id="user-edit">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<h2>Editing My Profile</h2>
				<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }, :multipart => true) do |f| %>
				  <%= devise_error_messages! %>
				  <div class="row">
				  	<div class="col-sm-6">
				  		<div class="row">
				  			<div class="col-sm-6">
						  		<div class="form-group">
						  			<%= f.label :firstname, 'First Name' %><br />
						  			<%= f.text_field :firstname, { :class => 'form-control' } %>
						  		</div>
				  			</div>
				  			<div class="col-sm-6">
						  		<div class="form-group">
						  			<%= f.label :lastname, 'Last Name' %><br />
						  			<%= f.text_field :lastname, { :class => 'form-control' } %>
						  		</div>
				  			</div>
				  		</div>
				  		<div class="form-group">
				  			<%= f.label :email %><br />
				  			<%= f.email_field :email, { :class => 'form-control', :autofocus => true } %>
				  		</div>
				  		<% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
				  		<div class="form-group">Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
				  		<% end %>
				  	</div>
				  	<div class="col-sm-6">
				  		<div class="form-group">
						    <%= f.label :street %><br>
						    <%= f.text_field :street, { :class => 'form-control' } %>
						  </div>
						  <div class="row">
						  	<div class="col-sm-6">
								  <div class="form-group">
								    <%= f.label :city %><br>
								    <%= f.text_field :city, { :class => 'form-control' } %>
								  </div>
								</div>
								<div class="col-sm-6">
								  <div class="form-group">
								    <%= f.label :state %><br>
								    <%= select(:user, 'state', us_states, { :include_blank => 'None' }, { :class => 'form-control' }) %>
								  </div>
								</div>
						  </div>
						</div>
					</div>
					<hr>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<%= f.label :password %> <i>(leave blank if you don't want to change it)</i><br />
								<%= f.password_field :password, { :class => 'form-control', :autocomplete => 'off' }  %>
							</div>
							<div class="form-group">
								<%= f.label :password_confirmation %><br />
								<%= f.password_field :password_confirmation, { :class => 'form-control', :autocomplete => 'off' } %>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="row">
								<div class="col-sm-6">
									<div class="form-group">
										<%= f.label :avatar %><br />
										<%= f.file_field :avatar %>
										<%= f.hidden_field :avatar_cache %>
									</div>
								</div>
								<% if current_user.avatar.url.present? %>
								<div class="col-sm-6">
									<img class="user-avatar" src="<%= current_user.avatar.url %>">
								</div>
								<% end %>
							</div>
						</div>
					</div>
				</div>
				<div class="form-group">
					<button type="submit" class="btn btn-success"><i class="fa fa-save left"></i>Save</button>
				</div>
				<% end %>
				<%= link_to "Back", :back %>
			</div>
		</div>
	</div>
</section>
